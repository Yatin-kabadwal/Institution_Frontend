<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Institution Management System - Modern EdTech Solution by Team H2O">
    <title>Institution Management System | Team H2O</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        /* Fix for landing page visibility issues */
        #landing-container {
            position: relative;
            z-index: 1;
        }
        
        .brand-logo-header {
            color: white !important;
            font-size: clamp(1.5rem, 5vw, 2.5rem) !important;
            font-weight: 900 !important;
            margin-bottom: 2rem !important;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3) !important;
            position: relative !important;
            z-index: 10 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            gap: 0.5rem !important;
            letter-spacing: -0.02em !important;
        }
        
        .brand-logo-header .icon {
            font-size: 2.5rem;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }
        
        #landing-container h1 {
            position: relative !important;
            z-index: 9 !important;
        }
        
        #landing-container > p {
            position: relative !important;
            z-index: 9 !important;
        }
        
        #landing-options {
            position: relative !important;
            z-index: 10 !important;
        }
        
        #landing-options button {
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            text-align: center !important;
            min-height: 80px !important;
            padding: 1.5rem 2rem !important;
            position: relative !important;
            overflow: visible !important;
        }
        
        #landing-options button:first-of-type {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            color: white !important;
            border: none !important;
            margin-bottom: 1rem !important;
        }
        
        #landing-options button:last-of-type {
            background: white !important;
            color: #667eea !important;
            border: 2px solid #667eea !important;
        }
        
        #landing-options button small {
            font-size: 0.875rem !important;
            opacity: 0.9 !important;
            margin-top: 0.5rem !important;
            font-weight: 400 !important;
        }
        
        .powered-by {
            position: relative !important;
            z-index: 9 !important;
        }
        
        /* Better emoji rendering */
        .emoji {
            font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;
            font-size: 1.5em;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div id="landing-container">
        <!-- Brand Logo - Now Clearly Visible -->
        <div class="brand-logo-header">
            <span class="icon">üíß</span>
            <span>H2O EdTech</span>
        </div>
        
        <!-- Main Heading -->
        <h1>Institution Management System</h1>
        
        <!-- Subtitle -->
        <p style="color: rgba(255, 255, 255, 0.95); font-size: 1.25rem; max-width: 700px; margin: 0 auto 3rem; line-height: 1.6; font-weight: 400;">
            Streamline your educational institution with our comprehensive management platform
        </p>
        
        <!-- Action Cards -->
        <div id="landing-options">
            <h2 style="margin-bottom: 0.5rem; font-size: 2rem;">Get Started</h2>
            <p style="color: #6b7280; margin-bottom: 2rem; font-size: 1rem;">
                Choose how you'd like to proceed
            </p>
            
            <!-- New Institution Button -->
            <button onclick="goToRegister()" id="register-btn">
                <span class="emoji">üÜï</span>
                <span style="font-size: 1.125rem; font-weight: 700; margin-top: 0.25rem;">New Institution</span>
                <small>Register your institution</small>
            </button>
            
            <!-- Existing User Button -->
            <button onclick="goToLogin()" id="login-btn">
                <span class="emoji">üîê</span>
                <span style="font-size: 1.125rem; font-weight: 700; margin-top: 0.25rem;">Existing User</span>
                <small>Login to your account</small>
            </button>
        </div>
        
        <!-- Footer Branding -->
        <div class="powered-by" style="margin-top: 3rem;">
            <p style="color: rgba(255, 255, 255, 0.9); font-size: 1rem; margin-bottom: 0.5rem;">
                Powered by <strong style="font-weight: 800; color: white;">Team H2O</strong>
            </p>
            <p style="font-size: 0.875rem; opacity: 0.8; color: rgba(255, 255, 255, 0.8);">
                Modern EdTech Solutions for Progressive Institutions
            </p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script>
        function goToRegister() {
            console.log('Navigating to register page...');
            window.location.href = 'register.html';
        }

        function goToLogin() {
            console.log('Navigating to login page...');
            window.location.href = 'login.html';
        }

        // Check if already logged in
        window.onload = function() {
            const token = localStorage.getItem('token');
            const userType = localStorage.getItem('userType');
            
            console.log('Checking authentication...', { token: !!token, userType });
            
            if (token) {
                if (userType === 'institution') {
                    console.log('Redirecting to institution dashboard...');
                    window.location.href = 'dashboard.html';
                } else if (userType === 'staff') {
                    console.log('Redirecting to staff dashboard...');
                    window.location.href = 'staff-dashboard.html';
                }
            } else {
                console.log('No authentication found, staying on landing page');
            }
        };
    </script>
</body>
</html>